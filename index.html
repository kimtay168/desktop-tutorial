<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MAZER-CLUB</title>
  
    <!-- Stylesheets -->
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="store.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap" rel="stylesheet" />
  
    <!-- Scripts -->
    <script defer src="script.js"></script>
  
    <!-- Favicon -->
    <link rel="icon" href="image/favicon.png" type="image/x-icon" />
  </head>
<body>
  <header class="hero">
<div class="nav-wrapper"><nav class="navbar">
  <div class="menu-toggle" id="menu-toggle">
    <i class="fas fa-bars"></i>
  </div>
  <ul class="nav-links" id="nav-links">
    <li><a class="nav-item" href="index.html">STORE</a></li>
    <li><a class="nav-item" href="#">VOTE</a></li>
    <li><a class="nav-item active" href="store.html">RANKS</a></li>
    <li><a class="nav-item" href="#">MAPS</a></li>
    <li><a class="nav-item" href="#">SUPPORT</a></li>
  </ul>
</nav></div>
    <div class="hero-stats">
      <div class="players-box" onclick="copyIP()">
        <div class="players-info">
          <div class="players-online"><span id="player-count">...</span> PLAYERS ONLINE</div>
          <div class="players-ip">
            <span class="default-text">MAZERCLUB.COM</span>
            <span class="hover-text">CLICK TO COPY IP</span>
          </div>
        </div>
      </div>

      <img src="image/mazer_club_logo.png" alt="Mazer Club Logo" class="logo-img" />

      <div class="discord-box">
        <div class="discord-info">
          <div class="discord-users" id="discord-count">749 USERS ONLINE</div>
          <a href="https://discord.gg/Rpfecpuuzf" target="_blank" class="discord-link">
            <span class="default-text">DISCORD.GG/MAZERCLUB</span>
            <span class="hover-text">CLICK TO JOIN</span>
          </a>
        </div>
      </div>
  </header>

  <div class="stair-border"></div>

  <section class="promo">
    <div class="crate-banner">
      <div class="image-wrapper">
        <img src="image/plot.png" alt="VIP Crate" class="crate-icon" />
      </div>
      <div class="crate-text">
        <h2 class="crate-title">FREE 2x VIP RANK</h2>
        <p class="crate-subtitle">AVAILABLE FOR LIMITED TIME - 7 DAYS</p>
      </div>
      <div class="crate-timer">
        <div class="timer-box">
          <div id="days" class="timer-digit">07</div>
          <small>DAYS</small>
        </div>
        <div class="timer-separator">:</div>
        <div class="timer-box">
          <div id="hours" class="timer-digit">00</div>
          <small>HOURS</small>
        </div>
        <div class="timer-separator">:</div>
        <div class="timer-box">
          <div id="minutes" class="timer-digit">00</div>
          <small>MINUTES</small>
        </div>
        <a href="#" class="claim-button" id="claimButton">CLAIM NOW</a>
      </div>
    </div>
  </section>

  <div class="grid-layout">
    <div class="box ranks">
      <a href="store.html " target="">
        <img src="image/ranks-1.png" alt="Ranks Box" class="full-box-image" />
      </a>
    </div>

    <div class="box crates">
      <a href="https://docs.google.com/forms/d/e/1FAIpQLSevaNXfMm2es8xnvHBIdQalAer66ubGhTdNEdAdmdL8yALwpg/viewform" target="_blank">
        <img src="image/crates.png" alt="Crates Box" class="full-box-image" />
      </a>
    </div>

    <div class="box gems">
      <div style="width: 100%; background: green;"></div>
      <div class="text" >
        <a href="https://docs.google.com/forms/d/e/1FAIpQLSevaNXfMm2es8xnvHBIdQalAer66ubGhTdNEdAdmdL8yALwpg/viewform" target="_blank">
          <img src="image/gems.png" alt="Gems Box" class="full-box-image" />
        </a>
        </div>
      </div>
    </div>
    <div class="box viewranks">
  <a href="viewrank.html">
    <img src="image/gems.png" alt="View Ranks" class="full-box-image" />
  </a>
</div>
  </div>

  <footer class="footer">
    <div class="footer-left">
      <p>COPYRIGHT 2025 MAZER-CLUB</p>
      <p>We are not affiliated with or endorsed by Mojang, AB.</p>
      <p>Support email: mazerclub@gmail.com</p>
      <p>Theme created by <strong>MAZER-INDUSTRY</strong></p>
    </div>
    <div class="footer-right">
      <a href="https://www.youtube.com/@mazerclub168" class="social-icon"><i class="fa-brands fa-youtube" target="_blank"></i></a>
      <a href="https://www.facebook.com/mazerclub" class="social-icon"><i class="fa-brands fa-facebook"></i></a>
      <a href="https://www.tiktok.com/@mazerclub2" class="social-icon"><i class="fa-brands fa-tiktok"></i></a>
      <a href="https://t.me/mazerclub_network" class="social-icon"><i class="fa-brands fa-telegram"></i></a>
    </div>
  </footer>
<!-- MAZ-BRAIN Chat Widget -->
<!-- MAZ-BRAIN Chat Widget -->
<!-- MAZ-BRAIN Chat Widget with Animation -->
<style>
  @keyframes floatButton {
    0%, 100% { transform: translateY(0); }
    50%      { transform: translateY(-6px); }
  }
/* Chat Box Styles */
#mazbrain-chat {
  width: 460px;
  height: 700px;
  background: white;
  border-radius: 12px;
  box-shadow: 0 4px 16px rgba(0,0,0,0.2);
  font-family: 'Segoe UI', sans-serif;
  display: none;
  flex-direction: column;
  position: fixed;
  bottom: 90px;
  right: 20px;
  z-index: 9999;
  overflow: hidden;
}

/* Chat Header */
#mazbrain-chat-header {
  background: linear-gradient(to bottom, #d50000, #b71c1c);
  color: white;
  padding: 14px 16px;
  font-size: 14px;
  font-weight: bold;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

/* Chat Log Area */
#chat-log {
  flex: 1;
  padding: 10px;
  overflow-y: auto;
}

/* Input + Button */
#chat-input-wrapper {
  display: flex;
  align-items: center;
  border-top: 1px solid #eee;
  background: #fafafa;
  padding: 10px;
}

#chat-input {
  flex: 1;
  padding: 10px 12px;
  font-size: 13px;
  border: 1px solid #ddd;
  border-radius: 20px;
  outline: none;
  background: #fff;
}

#chat-send {
  background-color: #d50000;
  border: none;
  margin-left: 8px;
  padding: 10px;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.2s;
}

#chat-send:hover {
  background-color: #b71c1c;
}

/* Floating Button */
#mazbrain-toggle-btn {
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 60px;
  height: 60px;
  background-color: #d50000;
  color: white;
  font-size: 26px;
  border: none;
  border-radius: 50%;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  cursor: pointer;
  z-index: 9999;
  animation: floaty 2s ease-in-out infinite;
}

@keyframes floaty {
  0% { transform: translateY(0); }
  50% { transform: translateY(-6px); }
  100% { transform: translateY(0); }
}

 #mazbrain-chat {
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 4px 16px rgba(0,0,0,0.15);
    font-family: 'Segoe UI', sans-serif;
    background-color: white;
    display: flex;
    flex-direction: column;
    position: fixed;
    bottom: 90px;
    right: 20px;
    z-index: 9999;
  }

  #mazbrain-chat-header {
    background: linear-gradient(to bottom, #d50000, #b71c1c);
    color: white;
    padding: 14px 16px;
    font-size: 14px;
    font-weight: bold;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-top-left-radius: 12px;
    border-top-right-radius: 12px;
  }

  .chat-title {
    font-weight: bold;
    letter-spacing: 0.4px;
  }

  .chat-options {
    font-size: 18px;
    cursor: pointer;
    user-select: none;
  }

  #chat-log {
    flex: 1;
    padding: 10px;
    overflow-y: auto;
  }
#chat-input-wrapper {
  display: flex;
  align-items: center;
  border-top: 1px solid #eee;
  background: #fafafa;
  padding: 10px;
}

#chat-input {
  flex: 1;
  padding: 10px 12px;
  font-size: 13px;
  border: 1px solid #ddd;
  border-radius: 20px;
  outline: none;
}
  #chat-send {
  background-color: #d50000;
  border: none;
  margin-left: 8px;
  padding: 10px;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.2s;
}

#chat-send:hover {
  background-color: #b71c1c;
}
  #mazbrain-toggle-btn:hover {
    animation: popBounce 0.4s ease;
    box-shadow: 0 0 20px #ff0000;
  }

  /* Optional message bubble style */
  .chat-msg {
    margin: 6px 0;
    padding: 10px 14px;
    max-width: 80%;
    font-size: 13px;
    line-height: 1.4;
    display: flex;
    clear: both;
    word-wrap: break-word;
    border-radius: 18px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.05);
  }

  .chat-msg.bot {
    color: #333;
    float: left;
    border-top-left-radius: 0;
  }

  .chat-msg.user {
    color: #fff;
    float: right;
    border-top-right-radius: 0;
  }
  .chat-msg.user {
  justify-content: flex-end;
}

.chat-avatar {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  margin-right: 10px;
}

.chat-bubble {
  background: #f4f4f4;
  color: #111;
  padding: 12px 16px;
  border-radius: 16px;
  max-width: 85%; /* ⬅️ You can increase this */
  width: fit-content;
  font-size: 14px;
  line-height: 1.4;
  word-wrap: break-word;
  text-align: left;
}
.chat-msg {
  display: flex;
  align-items: flex-start;
  margin: 8px;
}

.chat-msg.bot {
  flex-direction: row;
}

.chat-msg.user {
  flex-direction: row-reverse;
  justify-content: flex-end;
}

.chat-msg.user .chat-bubble {
  background: #d50000;
  color: white;
  border-bottom-right-radius: 0;
  margin-left: auto;
}

.chat-msg.bot .chat-bubble {
  border-bottom-left-radius: 0;
}
#chat-menu {
  position: absolute;
  top: 45px;
  right: 10px;
  background: black;
  border: 1px solid #ccc;
  border-radius: 6px;
  font-size: 14px;
  z-index: 999;
  width: 130px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}
#chat-menu ul {
  list-style: none;
  margin: 0;
  padding: 0;
}
#chat-menu li {
  padding: 10px;
  cursor: pointer;
  border-bottom: 1px solid #eee;
}
#chat-menu li:hover {
  background-color: #f0f0f0;
}
.hidden {
  display: none;
}
#lang-select {
  background: white;
  color: #b20000;
  border: none;
  border-radius: 6px;
  padding: 4px 8px;
  font-weight: bold;
  font-family: 'Montserrat', sans-serif;
  font-size: 12px;
  cursor: pointer;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  margin-left: auto;
  margin-right: 10px;
}
#lang-select:focus {
  outline: none;
}


</style>



<!-- Toggle Button -->
<button id="mazbrain-toggle-btn">💬</button>

<!-- Chat Box -->
<div id="mazbrain-chat">
  <div id="mazbrain-chat-header">
    <span class="chat-title">MAZERCLUB</span>
    <select id="lang-select" onchange="switchLanguage(this.value)">
      <option value="kh">ខ្មែរ</option>
      <option value="en">ENGLISH</option>
    </select>
    <span class="chat-options">⋮</span>
  </div>

  <div id="chat-log">
    <!-- Example static bot message -->
    <div class="chat-msg bot">
      <img class="chat-avatar" src="bot.png" alt="Bot" />
      <div class="chat-bubble">សួស្តី! ខ្ញុំគឺ MAZ-BRAIN។ តើអាចជួយអ្នកបានដូចម្តេច?</div>
    </div>
    <!-- Example static user message -->
    <div class="chat-msg user"></div>
  </div>

  <div id="chat-input-wrapper">
    <input id="chat-input" type="text" placeholder="Message..." />
    <button id="chat-send">
      <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 0 24 24" width="20" fill="white">
        <path d="M0 0h24v24H0z" fill="none"/>
        <path d="M3.4 20.3l17.6-8.6c.5-.2.5-.9 0-1.1L3.4 2.1c-.5-.2-1 .2-1 .7V9l12 3-12 3v6.2c0 .6.5.9 1 .7z"/>
      </svg>
    </button>
  </div>
</div>

<script>
  const chatBox = document.getElementById("mazbrain-chat");
  const chatInput = document.getElementById("chat-input");
  const chatLog = document.getElementById("chat-log");

  // Load chat history from localStorage
  window.addEventListener("load", () => {
    const savedLang = localStorage.getItem("lang") || "kh";
    document.getElementById("lang-select").value = savedLang;
  });
  window.addEventListener("DOMContentLoaded", () => {
    const savedHistory = localStorage.getItem("mazbrain_chat_history");
    if (savedHistory) {
      document.getElementById("chat-log").innerHTML = savedHistory;
    }
  });
  
  // Language switch function
  function switchLanguage(lang) {
    localStorage.setItem("lang", lang);
    // Optional: reload chat if needed
    // location.reload(); 
  }

  // Toggle chat visibility
  function toggleChat() {
    chatBox.style.display = chatBox.style.display === "none" ? "block" : "none";
  }

  // Format newlines in replies
  function formatMessage(msg) {
    return msg.replace(/\n/g, "<br>");
  }

  // Send message on Enter
  chatInput.addEventListener("keypress", async function (e) {
    if (e.key === "Enter" && chatInput.value.trim() !== "") {
      const msg = chatInput.value.trim();

      // Add user message (right)
      chatLog.innerHTML += `
        <div class="chat-msg user">
          <div class="chat-bubble">${msg}</div>
        </div>
      `;
      chatInput.value = "";
      chatLog.scrollTop = chatLog.scrollHeight;

      try {
        fetch("https://desktop-tutorial-iczk.onrender.com/chat", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            message: msg,
            lang: localStorage.getItem("lang") || "kh"
          })
        });

        const data = await res.json();

        // Add bot message (left)
        chatLog.innerHTML += `
          <div class="chat-msg bot">
            <img class="chat-avatar" src="bot.png" alt="Bot" />
            <div class="chat-bubble">${formatMessage(data.reply)}</div>
          </div>
        `;
        chatLog.scrollTop = chatLog.scrollHeight;
      } catch {
        chatLog.innerHTML += `
          <div class="chat-msg bot">
            <img class="chat-avatar" src="bot.png" alt="Bot" />
            <div class="chat-bubble">⚠️ MAZ-BRAIN is offline or an error occurred.</div>
          </div>
        `;
        chatLog.scrollTop = chatLog.scrollHeight;
      }
    }
  });

  // Send message on button click
  document.getElementById("chat-send").addEventListener("click", function () {
    const enterEvent = new KeyboardEvent("keypress", { key: "Enter" });
    chatInput.dispatchEvent(enterEvent);
  });
</script>


<script>
  document.addEventListener("DOMContentLoaded", () => {
    const toggleBtn = document.getElementById("mazbrain-toggle-btn");
    const chatBox = document.getElementById("mazbrain-chat");

    // Hide chat on load
    chatBox.style.display = "none";

    // Toggle visibility
    toggleBtn.addEventListener("click", () => {
      chatBox.style.display =
        chatBox.style.display === "none" ? "flex" : "none";
    });
  });
  const chatMenu = document.getElementById("chat-menu");
const chatOptionsBtn = document.querySelector(".chat-options");

chatOptionsBtn.addEventListener("click", () => {
  chatMenu.classList.toggle("hidden");
});

function clearChat() {
  document.getElementById("chat-log").innerHTML = "";
  localStorage.removeItem("mazbrain-history"); // ⬅ clear stored chat
  chatMenu.classList.add("hidden");
}

</script>

</body>
</html>
